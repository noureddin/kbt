:root {
    --page-bg: #f3f0f0;
    --bg-screen: #f4f0f0;
    --bg-input: #fff0f0;
    --fg: #333;
    --a: deeppink;
    --a-focus: hotpink;
    --a-active: pink;
    --fg-correct: green;
    --bg-current: mediumaquamarine;
    --fg-correct-letter: palegreen;
    --fg-wrong: crimson;
    --bg-wrong: plum;
    --fg-hi: #0a0;  /* current-lesson base-letters */
    --fg-hi-sup: #0a0;  /* current-lesson shifted-letters */
    --fg-lo: #aaa;  /* not-in-current-lesson base-letters (incl. BS & SPC) */
    --fg-lo-sup: #aaa;  /* not-in-current shifted-letters */
    --fg-hi-hi: deeppink;  /* highlighted (hint) base-letter */
    --fg-hi-hi-sup: deeppink;  /* hinted shifted-letter */
}

@media (prefers-color-scheme: dark) {
  :root {
    --page-bg: #232020;
    --bg-screen: #343030;
    --bg-input: #444040;
    --fg: #eee;
    --a: hotpink;
    --a-focus: deeppink;
    --a-active: mediumvioletred;
    --fg-correct: mediumseagreen;
    --bg-current: olive;
    --fg-correct-letter: palegreen;
    --fg-wrong: deeppink;
    --bg-wrong: darkmagenta;
    --fg-hi: #cc6;  /* current-lesson base-letters */
    --fg-hi-sup: #cc6;  /* current-lesson shifted-letters */
    --fg-lo: #555;  /* not-in-current-lesson base-letters (incl. BS & SPC) */
    --fg-lo-sup: #666;  /* not-in-current shifted-letters */
    --fg-hi-hi: #d6d;  /* highlighted (hint) base-letter */
    --fg-hi-hi-sup: #d6d;  /* hinted shifted-letter */
  }
  #screen, #screen * { font-weight: bold }
}


/* https://makkuk.com/kawkab-mono/; OFL-1.1; all non-Arabic glyphs removed; and scaled 75% */



* {
    font-family:  "Liberation Mono", "Ubuntu Mono", monospace;
    font-size: 24pt;
    line-height: 2;
    scroll-behavior: smooth;
}

.finish #screen, .finish #screen *, label, select, #count {
    font-family:  serif;
}

sup { line-height: 4 }

:not(#screen, #screen *) { /*  ¯\_(ツ)_/¯ — to make .current-word work */
    color: var(--fg);
}

body {
    background: var(--page-bg);
    --body-width: min(85%, 35rem);
    width: var(--body-width);
    margin: auto;  /* center */
}

body > * {
    /* width: var(--body-width); */
    /* align: center; */
    /* margin-right: auto; */
    /* margin-left: auto; */
}

#header * {
    font-size: inherit;
}

#header > * {
    font-size: 75%;
}

/* #header { */
/*     display: flex; */
/*     justify-content: space-around; */
/* } */

#header > * {
  white-space: nowrap;  /* don't break lines inside */
}

/* #header > :first-child { */
/*   flex-grow: 2; */
/*   width: 5em; */
/* } */
/* #header > * { border: 1px solid maroon } /1* DEBUG *1/ */

#header > :last-child {
    margin-top: 0.25em;
    float: right;
    text-align: right;
    text-align-last: right;
    margin-right: 1em;
}
label[for="emu"] {
    margin-right: 1em;
}

#header > :first-child {
    margin-left: 1em;
}

#header select {
    min-width: 8em;
    max-width: 25em;
    width: calc(100% - 20em);
}

#header {
    text-align: left;
    text-align-last: left;
}

@media (max-width: 45em) {
  /* #header > * { border: 1px solid hotpink } /1* DEBUG *1/ */
  #header > :last-child {
    float: none;
    text-align: center;
    text-align-last: center;
    margin: auto;
  }
  #header > :first-child {
    margin: auto;
  }
  #header select {
    min-width: 8em;
    max-width: 25em;
    width: calc(100% - 5em);
  }
  #header {
    text-align: center;
    text-align-last: center;
  }
}


#done { display: none }

.finish #done  { display: initial }
.finish #count { display: none }

#header select {
    text-align: left;
    text-align-last: left;
    background: var(--bg-input);
    border-radius: 0.25em;
    padding: 0.1em 0.2em;
}

#header, #screen, #write {
    box-sizing: border-box;
    width: 100%;
    border: 1px solid var(--fg);
    --in-rad: 1em;
    --word-rad: 0.5em;
}

#screen, #write {
    text-align: center;
    text-align-last: center;
}

#header {
    border-radius: var(--in-rad) var(--in-rad) 0 0;
    border-bottom: none;
    padding: 0.25em 0;
    overflow: hidden;  /* otherwise the height can be too short ¯\_(ツ)_/¯ */
}

#emus {
    margin: 1em;
}

#screen {
    font-weight: bold;
    height: 8rem;
    background: var(--bg-screen);
    padding: 1rem 2rem;
    overflow-y: hidden;
    word-spacing: 0.5rem;
}

.finish #screen {
    font-weight: normal;
    font-size: 75%;
}

a { color: var(--a) }
a:focus, a:hover { color: var(--a-focus) }
a:active { color: var(--a-active) }

#write {
    background: var(--bg-input);
    border-radius: 0 0  var(--in-rad) var(--in-rad);
    padding: 0.5em;
}

#screen > span {
    scroll-margin: 1em;  /* must be the same as #screen padding */
}

.correct-letter { color: var(--fg-correct-letter) !important }
.correct-word { color: var(--fg-correct) !important }
.current-word { background: var(--bg-current); border-radius: var(--word-rad); }
.wrong-letter { color: var(--fg-wrong) }
.wrong-word   { background: var(--bg-wrong) !important }

.current-word > span.bb::before {  /* bb == break before, to break ligatures */
  content: '‍​‍';  /* a kludge: zero width (space + joiner + space) */
}

#keyboard {
    line-height: 2;
}

#keyboard > span {
    position: relative;
}

#keyboard > span > sup {
    font-size: 75%;
    /* position: relative; */
    /* top: -0.75em; /1* for span *1/ */
    /* top: -0.25em; /1* for sup *1/ */
    position: absolute;
    top: -1em;
}

#keyboard > span > sup.marks {
    font-size: 125%;
    left: 0.15em;
}

#keyboard > span > sup.submarks {
    font-size: 125%;
    left: 0.15em;
    top: -1.25em;
}

#keyboard > span > span      { color: var(--fg-lo) }
#keyboard > span > span.hi   { color: var(--fg-hi) }
#keyboard > span > span.hihi { color: var(--fg-hi-hi) }

#keyboard > span > sup      { color: var(--fg-lo-sup) !important }
#keyboard > span > sup.hi   { color: var(--fg-hi-sup) !important }
#keyboard > span > sup.hihi { color: var(--fg-hi-hi-sup) !important }
